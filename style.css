:root{
  --bg:#0f172a; --text:#e5e7eb; --muted:#94a3b8;
  --accent:#4f46e5; --accent-2:#22d3ee;
  --surface:rgba(255,255,255,0.06); --glass:rgba(255,255,255,0.08);
  --shadow: 0 6px 24px rgba(0,0,0,0.25);
  --radius:14px; --gap:12px;
  --sea1:#3ba6e0; --sea2:#62d0ff; --sight1:#ff9933; --sight2:#ffd166;
}
*{box-sizing:border-box} html,body{height:100%}
body{
  margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at -10% -20%, rgba(79,70,229,0.35), transparent 60%),
    radial-gradient(900px 500px at 110% 0%, rgba(34,211,238,0.25), transparent 60%),
    linear-gradient(180deg, #0b1220 0%, #0f172a 60%, #0b1020 100%);
  background-attachment: fixed;
  -webkit-tap-highlight-color: transparent;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  padding-bottom: env(safe-area-inset-bottom);
}

/* App Bar / Tabs */
.appbar{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:linear-gradient(180deg,rgba(17,24,39,.75),rgba(17,24,39,.45));backdrop-filter:blur(10px) saturate(120%);border-bottom:1px solid rgba(255,255,255,.06)}
.appbar__left{display:flex;align-items:center;gap:10px}.logo{font-size:24px}
.titles .title{font-weight:800}.titles .subtitle{font-size:12px;color:var(--muted)}
.appbar__right{display:flex;align-items:center;gap:10px}
.ver{font-size:12px;color:var(--muted)}

.tabs{display:flex;gap:8px;padding:10px 12px;position:sticky;top:56px;z-index:9;background:linear-gradient(180deg,rgba(17,24,39,.6),rgba(17,24,39,.35));backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.06)}
.tab{flex:1;min-height:48px;padding:10px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:var(--surface);color:var(--text);cursor:pointer;font-weight:600}
.tab.active{background:linear-gradient(135deg,var(--accent) 0%,var(--accent-2) 100%);border-color:transparent}

/* Chips */
.chip{min-height:40px;padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.16);background:var(--surface);color:var(--text);cursor:pointer}

.content{padding:16px}

/* Filters */
.filters{
  display:flex; gap:8px; margin-bottom:12px; flex-wrap:wrap;
}
/* По умолчанию НЕ sticky: прокручивается вместе с контентом */
.filters.sticky{
  position: static;
  top: auto;
  z-index: auto;
}
/* На высоких экранах можно вернуть sticky */
@media (min-height: 780px) {
  .filters.sticky{
    position: sticky;
    top: 108px;
    z-index: 8;
  }
}
.filter{padding:10px 14px;min-height:48px;min-width:48px;border:0;border-radius:999px;background:rgba(255,255,255,.08);color:inherit;cursor:pointer;box-shadow:var(--shadow)}
.filter.active{background:var(--accent);color:#fff}

/* Cards & Skeletons */
.cards, .cards-skeleton{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:var(--gap)}
.card{
  position:relative; display:flex; flex-direction:column; justify-content:center;
  min-height:104px; padding:14px; border-radius: var(--radius);
  box-shadow: var(--shadow); cursor:pointer; overflow:hidden;
  background:
    linear-gradient(145deg, rgba(20,20,20,0.65), rgba(20,20,20,0.5)),
    linear-gradient(145deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
  color:#fff;
}
.card:before{content:""; position:absolute; inset:0; z-index:0; background: radial-gradient(120% 120% at 0% 0%, rgba(255,255,255,0.18), transparent 60%); pointer-events:none;}
.card > *{position:relative; z-index:1}
.card.sea{background:linear-gradient(145deg, rgba(20,20,20,0.65), rgba(20,20,20,0.5)),linear-gradient(135deg, var(--sea1) 0%, var(--sea2) 100%); background-blend-mode: overlay, normal;}
.card.sight{background:linear-gradient(145deg, rgba(20,20,20,0.65), rgba(20,20,20,0.5)),linear-gradient(135deg, var(--sight1) 0%, var(--sight2) 100%); background-blend-mode: overlay, normal;}
.card-header{font-weight:900; letter-spacing:.2px; margin-bottom:6px; color:#fff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; text-shadow: 0 1px 2px rgba(0,0,0,0.35);}
.card-body{opacity:.96; line-height:1.35; color:#fff; display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2; overflow:hidden; text-shadow: 0 1px 2px rgba(0,0,0,0.35);}
.skeleton{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);border-radius:var(--radius);min-height:104px;animation:pulse 1.2s ease-in-out infinite}
@keyframes pulse{0%{opacity:.45}50%{opacity:.75}100%{opacity:.45}}

/* Sections (Советы/Контакты) — явный читаемый цвет */
.section, .list, .grid-list, #tips, #contacts { color: var(--text); }

/* Empty / Dialog */
.empty{display:flex;flex-direction:column;align-items:center;gap:8px;padding:24px;background:var(--glass);border:1px solid rgba(255,255,255,.12);border-radius:var(--radius)}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:40}
.overlay.hidden{display:none !important; pointer-events:none !important}
.details{
  position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
  width:92vw; max-width:420px;
  background:#fff; color:#0b1220;
  border-radius: var(--radius); padding:16px 16px 12px;
  box-shadow: 0 18px 40px rgba(0,0,0,0.35); z-index:50;
}
.close-btn{position:absolute;right:10px;top:8px;border:0;background:none;font-size:18px;cursor:pointer}
.schedule{list-style:none;margin:0;padding:0}
.schedule li{padding:8px 0 8px 28px;position:relative;border-bottom:1px dashed rgba(0,0,0,.1); color:#0b1220}
.schedule li:last-child{border-bottom:0}
.schedule li:before{content:'⏰';position:absolute;left:0;top:8px;color:#0b1220}

.hidden{display:none !important}
